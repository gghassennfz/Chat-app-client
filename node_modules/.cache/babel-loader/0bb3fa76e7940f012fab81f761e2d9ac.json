{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ghassen\\\\Desktop\\\\lyoum\\\\3\\\\chat-app-client\\\\src\\\\components\\\\ProfileBar\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { updateProfile, changePassword, login } from \"../../utils/Routes\";\nimport { logout } from \"../../actions\";\nimport defaultAvatar from \"../avatar.svg\";\nimport logo from \"../logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass index extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isOptionsActive: false\n    };\n\n    this.setOptionsActive = () => {\n      this.setState({\n        isOptionsActive: !this.state.isOptionsActive\n      });\n    };\n\n    this.userAvatar = user => {\n      var _user$avatar;\n\n      let image = user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.data;\n\n      if (image) {\n        image = this.bufferToBase64(image);\n        return `data:image/jpeg;base64,${image}`;\n      }\n\n      return null;\n    };\n  }\n\n  bufferToBase64(buffer) {\n    let binary = \"\";\n    let bytes = new Uint8Array(buffer);\n    let len = bytes.byteLength;\n\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n\n    return window.btoa(binary);\n  }\n\n  render() {\n    var _this$props$auth$user;\n\n    return /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"profile-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"picture\", {\n        className: \"profile-bar-avatar\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: this.setOptionsActive,\n          className: \"default-avatar\",\n          src: this.userAvatar(this.props.auth.user) || defaultAvatar,\n          alt: \"default avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile-bar-username\",\n          children: ((_this$props$auth$user = this.props.auth.user) === null || _this$props$auth$user === void 0 ? void 0 : _this$props$auth$user.username) || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), this.state.isOptionsActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-bar-options\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: updateProfile,\n            className: \"profile\",\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: changePassword,\n            className: \"change-password\",\n            children: \"Change password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: login,\n            onClick: this.props.logout,\n            className: \"logout\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile-bar-logo\",\n        src: logo,\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = ({\n  auth\n}) => {\n  return {\n    auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logout\n})(index);","map":{"version":3,"sources":["C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/src/components/ProfileBar/index.jsx"],"names":["React","Component","connect","Link","updateProfile","changePassword","login","logout","logo","index","state","isOptionsActive","setOptionsActive","setState","userAvatar","user","image","avatar","data","bufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","window","btoa","render","props","auth","defaultAvatar","username","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { updateProfile, changePassword, login } from \"../../utils/Routes\";\r\nimport { logout } from \"../../actions\";\r\nimport defaultAvatar from \"../avatar.svg\";\r\nimport logo from \"../logo.png\";\r\n\r\nclass index extends Component {\r\n  state = { isOptionsActive: false };\r\n\r\n  setOptionsActive = () => {\r\n    this.setState({ isOptionsActive: !this.state.isOptionsActive });\r\n  };\r\n\r\n  bufferToBase64(buffer) {\r\n    let binary = \"\";\r\n    let bytes = new Uint8Array(buffer);\r\n    let len = bytes.byteLength;\r\n    for (let i = 0; i < len; i++) {\r\n      binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n  }\r\n\r\n  userAvatar = (user) => {\r\n    let image = user?.avatar?.data;\r\n    if (image) {\r\n      image = this.bufferToBase64(image);\r\n      return `data:image/jpeg;base64,${image}`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <aside className=\"profile-bar\">\r\n        <picture className=\"profile-bar-avatar\">\r\n          <img\r\n            onClick={this.setOptionsActive}\r\n            className=\"default-avatar\"\r\n            src={this.userAvatar(this.props.auth.user) || defaultAvatar}\r\n            alt=\"default avatar\"\r\n          />\r\n          <p className=\"profile-bar-username\">\r\n            {this.props.auth.user?.username || \"\"}\r\n          </p>\r\n          {this.state.isOptionsActive ? (\r\n            <div className=\"profile-bar-options\">\r\n              <Link to={updateProfile} className=\"profile\">\r\n                Profile\r\n              </Link>\r\n              <Link to={changePassword} className=\"change-password\">\r\n                Change password\r\n              </Link>\r\n              <Link to={login} onClick={this.props.logout} className=\"logout\">\r\n                Logout\r\n              </Link>\r\n            </div>\r\n          ) : null}\r\n        </picture>\r\n        <img className=\"profile-bar-logo\" src={logo} alt=\"logo\" />\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(index);\r\n"]},"metadata":{},"sourceType":"module"}