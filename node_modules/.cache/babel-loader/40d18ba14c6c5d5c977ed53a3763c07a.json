{"ast":null,"code":"import _classCallCheck from\"C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import Alert from\"react-bootstrap/Alert\";import{setLoginData,loginUser}from\"../../actions\";import{forgotpassword,signup}from\"../../utils/Routes\";import{newUserDataState}from\"../../actions/types\";import spinner from\"../spinner.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onSubmit=function(event){event.preventDefault();if(_this.props.loginUserData.state===\"submitting\")return;_this.props.loginUser();};_this.onInputFieldChange=function(event,field){switch(field){case\"email\":_this.props.setLoginData(true,event.target.value,_this.props.loginUserData.password);break;case\"password\":_this.props.setLoginData(true,_this.props.loginUserData.email,event.target.value);break;default:_this.props.setLoginData(true,_this.props.loginUserData.email,_this.props.loginUserData.password);}};return _this;}_createClass(Signup,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.setLoginData(true,\"\",\"\");}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.setLoginData(false);}},{key:\"render\",value:function render(){var _this2=this;if(!this.props.loginUserData)return\"\";return/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-warning\",children:/*#__PURE__*/_jsx(Alert,{show:this.props.loginUserData.loginFailed===true,variant:\"danger\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Email or password is wrong !!!\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"form__heading\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__fieldsWrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:this.props.loginUserData.email,required:true,autoFocus:true,onChange:function onChange(event){return _this2.onInputFieldChange(event,\"email\");}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Password\",value:this.props.loginUserData.password,required:true,onChange:function onChange(event){return _this2.onInputFieldChange(event,\"password\");}})]}),/*#__PURE__*/_jsx(Link,{to:forgotpassword,className:\"form__forgotPassword\",children:\"Forgot password ?\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__submitBtn\",children:this.props.loginUserData.state===newUserDataState.submitting?/*#__PURE__*/_jsx(\"img\",{className:\"icon-spinner\",src:spinner,alt:\"spinner icon svg\"}):\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"form__switchAuth\",children:[\"Don't have an account ?\",\" \",/*#__PURE__*/_jsx(Link,{to:signup,className:\"form__log-or-sign\",children:\"Register\"}),\" \"]})]});}}]);return Signup;}(React.Component);var mapStateToProps=function mapStateToProps(_ref){var loginUserData=_ref.loginUserData;return{loginUserData:loginUserData};};export default connect(mapStateToProps,{setLoginData:setLoginData,loginUser:loginUser})(Signup);","map":{"version":3,"sources":["C:/Users/Ghassen/Desktop/lyoum/3/chat-app-client/src/components/AuthComponent/Login.jsx"],"names":["React","Link","connect","Alert","setLoginData","loginUser","forgotpassword","signup","newUserDataState","Signup","onSubmit","event","preventDefault","props","loginUserData","state","onInputFieldChange","field","target","value","password","email","loginFailed","submitting","spinner","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { setLoginData, loginUser } from \"../../actions\";\r\nimport { forgotpassword, signup } from \"../../utils/Routes\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass Signup extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.props.loginUserData.state === \"submitting\") return;\r\n    this.props.loginUser();\r\n  };\r\n\r\n  onInputFieldChange = (event, field) => {\r\n    switch (field) {\r\n      case \"email\":\r\n        this.props.setLoginData(\r\n          true,\r\n          event.target.value,\r\n          this.props.loginUserData.password\r\n        );\r\n        break;\r\n      case \"password\":\r\n        this.props.setLoginData(\r\n          true,\r\n          this.props.loginUserData.email,\r\n          event.target.value\r\n        );\r\n        break;\r\n      default:\r\n        this.props.setLoginData(\r\n          true,\r\n          this.props.loginUserData.email,\r\n          this.props.loginUserData.password\r\n        );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setLoginData(true, \"\", \"\");\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setLoginData(false);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.loginUserData) return \"\";\r\n    return (\r\n      <form className=\"form\" onSubmit={this.onSubmit}>\r\n        <div className=\"signup-warning\">\r\n          <Alert\r\n            show={this.props.loginUserData.loginFailed === true}\r\n            variant=\"danger\"\r\n          >\r\n            <p>Email or password is wrong !!!</p>\r\n          </Alert>\r\n        </div>\r\n\r\n        <h2 className=\"form__heading\">Login</h2>\r\n\r\n        <div className=\"form__fieldsWrapper\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={this.props.loginUserData.email}\r\n            required\r\n            autoFocus\r\n            onChange={(event) => this.onInputFieldChange(event, \"email\")}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Password\"\r\n            value={this.props.loginUserData.password}\r\n            required\r\n            onChange={(event) => this.onInputFieldChange(event, \"password\")}\r\n          />\r\n        </div>\r\n\r\n        <Link to={forgotpassword} className=\"form__forgotPassword\">\r\n          Forgot password ?\r\n        </Link>\r\n\r\n        <button type=\"submit\" className=\"form__submitBtn\">\r\n          {this.props.loginUserData.state === newUserDataState.submitting ? (\r\n            <img\r\n              className=\"icon-spinner\"\r\n              src={spinner}\r\n              alt=\"spinner icon svg\"\r\n            />\r\n          ) : (\r\n            \"Login\"\r\n          )}\r\n        </button>\r\n\r\n        <p className=\"form__switchAuth\">\r\n          Don't have an account ?{\" \"}\r\n          <Link to={signup} className=\"form__log-or-sign\">\r\n            Register\r\n          </Link>{\" \"}\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ loginUserData }) => {\r\n  return { loginUserData };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLoginData, loginUser })(Signup);\r\n"]},"metadata":{},"sourceType":"module"}